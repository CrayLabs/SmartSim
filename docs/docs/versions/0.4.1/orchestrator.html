
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

    <title>Orchestrator &#8212; SmartSim 0.4.1 documentation</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=84ace793992934648b4de8eed757e5a2" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/sphinx-book-theme.9d8b4a8b9bb19db25eeaddc40d639ba2.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Launchers" href="launchers.html" />
    <link rel="prev" title="Experiments" href="experiment.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<div class="col-12 col-md-3 bd-sidebar site-navigation " id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">SmartSim 0.4.1 documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="versions.html">
   Versions
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="overview.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="community.html">
   Community
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="contributing_examples.html">
   Contributing Examples
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="tutorials/getting_started/getting_started.html">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tutorials/online_analysis/lattice/online_analysis.html">
   Online Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tutorials/ml_inference/Inference-in-SmartSim.html">
   Online Inference
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tutorials/ml_training/surrogate/train_surrogate.html">
   Online Training
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tutorials/ray/starting_ray.html">
   Ray Integration
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  SmartSim
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="experiment.html">
   Experiments
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Orchestrator
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="launchers.html">
   Launchers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="api/smartsim_api.html">
   SmartSim API
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  SmartRedis
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="smartredis.html">
   SmartRedis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sr_integration.html">
   Integrating into a Simulation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sr_python_walkthrough.html">
   Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sr_cpp_walkthrough.html">
   C++
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sr_fortran_walkthrough.html">
   Fortran
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sr_data_structures.html">
   Data Structures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sr_runtime.html">
   Runtime Requirements
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="api/smartredis_api.html">
   SmartRedis API
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="changelog.html">
   Changelog
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="code_of_conduct.html">
   Code of Conduct
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="developer.html">
   Developer
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<!-- This is an invisible pixel that we watch to see if we've scrolled. -->
<div class="sbt-scroll-pixel-helper"></div>
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            <div class="topbar-left">
                
                <label class="nav-toggle-button" for="__navigation">
                    <div class="visually-hidden">Toggle navigation</div>
                    <i class="fas fa-bars"></i>
                </label>
                
            </div>
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/orchestrator.rst.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/CrayLabs/SmartSim"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/CrayLabs/SmartSim/issues/new?title=Issue%20on%20page%20%2Forchestrator.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cluster-orchestrator">
   Cluster Orchestrator
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#co-located-orchestrator">
   Co-located Orchestrator
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#redis">
   Redis
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keydb">
   KeyDB
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Orchestrator</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cluster-orchestrator">
   Cluster Orchestrator
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#co-located-orchestrator">
   Co-located Orchestrator
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#redis">
   Redis
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keydb">
   KeyDB
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <section id="orchestrator">
<h1>Orchestrator<a class="headerlink" href="#orchestrator" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">Orchestrator</span></code> is an in-memory database that is launched prior to all other
entities within an <code class="docutils literal notranslate"><span class="pre">Experiment</span></code>. The <code class="docutils literal notranslate"><span class="pre">Orchestrator</span></code> can be used to store and retrieve
data during the course of an experiment and across multiple entities. In order to
stream data into or receive data from the <code class="docutils literal notranslate"><span class="pre">Orchestrator</span></code>, one of the SmartSim clients
(SmartRedis) has to be used within a Model.</p>
<p><a class="reference internal" href="_images/Orchestrator.png"><img alt="Alternative text" src="_images/Orchestrator.png" style="width: 700px;" /></a></p>
<p>Combined with the SmartRedis clients, the <code class="docutils literal notranslate"><span class="pre">Orchestrator</span></code> is capable of hosting and executing
AI models written in Python on CPU or GPU. The <code class="docutils literal notranslate"><span class="pre">Orchestrator</span></code> supports models written with
TensorFlow, Pytorch, TensorFlow-Lite, or models saved in an ONNX format (e.g. sci-kit learn).</p>
<section id="cluster-orchestrator">
<h2>Cluster Orchestrator<a class="headerlink" href="#cluster-orchestrator" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Orchestrator</span></code> supports single node and distributed memory settings. This means
that a single compute host can be used for the database or multiple by specifying
<code class="docutils literal notranslate"><span class="pre">db_nodes</span></code> to be greater than 1.</p>
<p><a class="reference internal" href="_images/clustered-orc-diagram.png"><img alt="Alternative text" src="_images/clustered-orc-diagram.png" style="width: 700px;" /></a></p>
<p>With a clustered <code class="docutils literal notranslate"><span class="pre">Orchestrator</span></code>, multiple compute hosts memory can be used together
to store data. As well, the CPU or GPU(s) where the <code class="docutils literal notranslate"><span class="pre">Orchestrator</span></code> is running can
be used to execute the AI models, and Torchscript code on data stored within it.</p>
<p>Users do not need to know how the data is stored in a clustered configuration and
can address the cluster with the SmartRedis clients like a single block of memory
using simple put/get semantics in SmartRedis. SmartRedis will ensure that data
is evenly distributed amoungst all nodes in the cluster.</p>
<p>The cluster deployment is optimal for high data throughput scenarios such as
online analysis, training and processing.</p>
</section>
<section id="co-located-orchestrator">
<h2>Co-located Orchestrator<a class="headerlink" href="#co-located-orchestrator" title="Permalink to this headline">¶</a></h2>
<p>A co-located Orchestrator is a special type of Orchestrator that is deployed on
the same compute hosts an a <code class="docutils literal notranslate"><span class="pre">Model</span></code> instance defined by the user. In this
deployment, the database is <em>not</em> connected together in a cluster and each
shard of the database is addressed individually by the processes running
on that compute host.</p>
<p><a class="reference internal" href="_images/co-located-orc-diagram.png"><img alt="Alternative text" src="_images/co-located-orc-diagram.png" style="width: 700px;" /></a></p>
<p>This deployment is designed for highly performant online inference scenarios where
a distributed process (likely MPI processes) are performing inference with
data local to each process.</p>
<p>This method is deemed <code class="docutils literal notranslate"><span class="pre">locality</span> <span class="pre">based</span> <span class="pre">inference</span></code> since data is local to each
process and the <code class="docutils literal notranslate"><span class="pre">Orchestrator</span></code> is deployed locally on each compute host where
the distributed application is running.</p>
<p>To create a co-located model, first, create a <code class="docutils literal notranslate"><span class="pre">Model</span></code> instance and then call
the <code class="docutils literal notranslate"><span class="pre">Model.colocated_db</span></code> function.</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">Model.</span></span><span class="sig-name descname"><span class="pre">colocate_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6379</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_cpus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_app_cpus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ifname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lo'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smartsim/entity/model.html#Model.colocate_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Colocate an Orchestrator instance with this Model at runtime.</p>
<p>This method will initialize settings which add an unsharded (not connected)
database to this Model instance. Only this Model will be able to communicate
with this colocated database by using the loopback TCP interface or Unix
Domain sockets (UDS coming soon).</p>
<p>Extra parameters for the db can be passed through kwargs. This includes
many performance, caching and inference settings.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">maxclients</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span>
    <span class="n">threads_per_queue</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">inter_op_threads</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">intra_op_threads</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">server_threads</span><span class="p">:</span> <span class="mi">2</span> <span class="c1"># keydb only</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Generally these don’t need to be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> (<em>int</em><em>, </em><em>optional</em>) – port to use for orchestrator database, defaults to 6379</p></li>
<li><p><strong>db_cpus</strong> (<em>int</em><em>, </em><em>optional</em>) – number of cpus to use for orchestrator, defaults to 1</p></li>
<li><p><strong>limit_app_cpus</strong> (<em>bool</em><em>, </em><em>optional</em>) – whether to limit the number of cpus used by the app, defaults to True</p></li>
<li><p><strong>ifname</strong> (<em>str</em><em>, </em><em>optional</em>) – interface to use for orchestrator, defaults to “lo”</p></li>
<li><p><strong>debug</strong> (<em>bool</em><em>, </em><em>optional</em>) – launch Model with extra debug information about the co-located db</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – additional keyword arguments to pass to the orchestrator database</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Here is an example of creating a simple model that is co-located with an
<code class="docutils literal notranslate"><span class="pre">Orchestrator</span></code> deployment</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartsim</span> <span class="kn">import</span> <span class="n">Experiment</span>
<span class="n">exp</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="s2">&quot;colo-test&quot;</span><span class="p">,</span> <span class="n">launcher</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>

<span class="n">colo_settings</span> <span class="o">=</span> <span class="n">exp</span><span class="o">.</span><span class="n">create_run_settings</span><span class="p">(</span><span class="n">exe</span><span class="o">=</span><span class="s2">&quot;./some_mpi_app&quot;</span><span class="p">)</span>

<span class="n">colo_model</span> <span class="o">=</span> <span class="n">exp</span><span class="o">.</span><span class="n">create_model</span><span class="p">(</span><span class="s2">&quot;colocated_model&quot;</span><span class="p">,</span> <span class="n">colo_settings</span><span class="p">)</span>
<span class="n">colo_model</span><span class="o">.</span><span class="n">colocate_db</span><span class="p">(</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">6780</span><span class="p">,</span>              <span class="c1"># database port</span>
        <span class="n">db_cpus</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>              <span class="c1"># cpus given to the database on each node</span>
        <span class="n">debug</span><span class="o">=</span><span class="kc">False</span>             <span class="c1"># include debug information (will be slower)</span>
        <span class="n">limit_app_cpus</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>   <span class="c1"># don&#39;t overscubscribe app with database cpus</span>
        <span class="n">ifname</span><span class="o">=</span><span class="n">network_interface</span> <span class="c1"># specify network interface to use (i.e. &quot;ib0&quot;)</span>
<span class="p">)</span>
<span class="n">exp</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">colo_model</span><span class="p">)</span>
</pre></div>
</div>
<p>By default, SmartSim will attempt to make sure that the database and the application
do not fight over resources by taking over the affinity mapping process locally on
each node. This can be disabled by setting <code class="docutils literal notranslate"><span class="pre">limit_app_cpus</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</section>
<section id="redis">
<h2>Redis<a class="headerlink" href="#redis" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Orchestrator</span></code> is built on <a class="reference external" href="https://github.com/redis/redis">Redis</a>. Largely, the job of the <code class="docutils literal notranslate"><span class="pre">Orchestrator</span></code> is to
create a Python reference to a Redis deployment so that users can launch, monitor
and stop a Redis deployment on workstations and HPC systems.</p>
<p>Redis was chosen for the Orchestrator because it resides in-memory, can be distributed on-node
as well as across nodes, and provides low latency data access to many clients in parallel. The
Redis ecosystem was a primary driver as the Redis module system provides APIs for languages,
libraries, and techniques used in Data Science. In particular, the <code class="docutils literal notranslate"><span class="pre">Orchestrator</span></code>
relies on <a class="reference external" href="https://github.com/RedisAI/RedisAI">RedisAI</a> to provide access to Machine Learning runtimes.</p>
<p>At its core, Redis is a key-value store. This means that put/get semantics are used to send
messages to and from the database. SmartRedis clients use a specific hashing algorithm, CRC16, to ensure
that data is evenly distributed amongst all database nodes. Notably, a user is not required to
know where (which database node) data or Datasets (see Dataset API) are stored as the
SmartRedis clients will infer their location for the user.</p>
</section>
<section id="keydb">
<h2>KeyDB<a class="headerlink" href="#keydb" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/EQ-Alpha/KeyDB">KeyDB</a> is a multi-threaded fork of Redis that can be swapped in as the database for
the <code class="docutils literal notranslate"><span class="pre">Orchestrator</span></code> in SmartSim. KeyDB can be swapped in for Redis by setting the
<code class="docutils literal notranslate"><span class="pre">REDIS_PATH</span></code> environment variable to point to the <code class="docutils literal notranslate"><span class="pre">keydb-server</span></code> binary.</p>
<p>A full example of configuring KeyDB to run in SmartSim is shown below</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># build KeyDB</span>
<span class="c1"># see https://github.com/EQ-Alpha/KeyDB</span>

<span class="c1"># get KeyDB configuration file</span>
wget https://github.com/CrayLabs/SmartSim/blob/d3d252b611c9ce9d9429ba6eeb71c15471a78f08/smartsim/_core/config/keydb.conf

<span class="nb">export</span> <span class="nv">REDIS_PATH</span><span class="o">=</span>/path/to/keydb-server
<span class="nb">export</span> <span class="nv">REDIS_CONF</span><span class="o">=</span>/path/to/keydb.conf

<span class="c1"># run smartsim workload</span>
</pre></div>
</div>
</section>
</section>


              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="experiment.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Experiments</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="launchers.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Launchers</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Cray Labs<br/>
    
        &copy; Copyright 2021-2022, Hewlett Packard Enterprise.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>